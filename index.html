<!DOCTYPE html>
<html lang="kn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Math Challenge - GHPS Dasaravadi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Cinzel:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <style>
        :root { --primary: #1a2a6c; --gold: #c5a059; --accent: #b21f1f; }
        
        /* Mobile Best View Optimization */
        body { 
            font-family: 'Montserrat', sans-serif; 
            background: #f0f2f5; 
            margin: 0; 
            padding: 10px; 
            -webkit-tap-highlight-color: transparent; 
        }
        
        
        .container { max-width: 800px; margin: auto; }
        .hidden { display: none !important; }
        
        .header { 
            background: linear-gradient(135deg, var(--primary), var(--accent)); 
            color: white; 
            text-align: center; 
            padding: 25px 15px; 
            border-radius: 15px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
        }
        
        .rainbow-school-name { 
            font-family: 'Cinzel', serif; 
            font-size: 20px; 
            font-weight: bold; 
            margin-bottom: 8px; 
            display: block; 
            background: linear-gradient(to right, #ff2400, #e81d1d, #e8b71d, #1de840, #1ddde8, #2b1de8, #dd1de8, #ff2400); 
            background-size: 200% auto; 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            animation: rainbow_move 3s linear infinite; 
            cursor: pointer; 
            user-select: none;
        }

        @keyframes rainbow_move { to { background-position: 200% center; } }
        
        #statusBanner { padding: 10px; border-radius: 8px; margin-top: 12px; font-weight: bold; font-size: 13px; text-align: center; }
        .status-upcoming { background: #fff3cd; color: #856404; border: 1px solid #ffeeba; }
        .status-live { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; animation: pulse 2s infinite; }
        .status-closed { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }

        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); margin-top: 15px; border-top: 5px solid var(--gold); }
        
        
        /* QUIZ ACCESS SCREEN */
.access-bg{
  position:fixed;
  inset:0;
  background:linear-gradient(to right, #ff2400, #e81d1d, #e8b71d, #1de840, #1ddde8, #2b1de8, #dd1de8, #ff2400);
  background-size:400% 400%;
  animation:bgMove 5s ease infinite;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}

@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.access-card{
  background:#ffffff;;
  padding:30px 25px;
  width:380px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,0.3);
  animation:pop 4s ease;
}

@keyframes pop{
  from{transform:scale(0.8);opacity:0}
  to{transform:scale(1);opacity:1}
}

.lock-circle{
  width:70px;
  height:70px;
  margin:auto;
  background:linear-gradient(135deg,#c5a059,#f7d774);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
  margin-bottom:10px;
}

.school-name{
  color:#0000CD;
  font-family:'Cinzel',serif;
  font-size:16px;
  margin:5px 0;	
}

.quiz-title{
  color:#b21f1f;
  margin-bottom:15px;
}

.access-card input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:2px solid #ddd;
  font-size:16px;
  text-align:center;
}

.access-btn{
  margin-top:15px;
  width:100%;
  padding:14px;
  font-size:16px;
  font-weight:bold;
  color:white;
  background:linear-gradient(135deg,#1a2a6c,#b21f1f);
  border:none;
  border-radius:14px;
  cursor:pointer;
  transition:0.3s;
}

.access-btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 15px rgba(178,31,31,0.6);
}

.error-msg{
  color:red;
  margin-top:10px;
  font-weight:bold;
}

        /* Large touch targets for inputs */
        input, select { 
            width: 100%; 
            padding: 14px; 
            margin: 8px 0 15px 0; 
            border: 2px solid #eee; 
            border-radius: 10px; 
            box-sizing: border-box; 
            font-size: 16px; /* Prevents auto-zoom on mobile */
            outline: none; 
        }
        
        #sName, #pName { text-transform: uppercase; }

        button { padding: 16px; font-size: 16px; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; transition: 0.3s; margin-top: 10px; width: 100%; }
        .btn-main { background: var(--primary); color: white; }
        .btn-main:disabled { background: #ccc; cursor: not-allowed; }
        
        /* Question Layout for Mobile */
        .question-box { margin-bottom: 25px; padding: 18px; border-radius: 15px; background: #fff; border: 1px solid #eaeaea; }
        .question-text { font-size: 18px; display: block; margin-bottom: 15px; color: #333; }
        
        .options-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
        
        .option-card { 
            background: #f8f9fa; 
            border: 2px solid #eaeaea; 
            padding: 16px; 
            border-radius: 12px; 
            cursor: pointer; 
            display: flex; 
            align-items: center; 
            font-size: 16px;
            font-weight: 500;
        }
        
        .option-card input[type="radio"] { 
            width: 22px; 
            height: 22px; 
            margin-right: 12px; 
            accent-color: var(--primary);
        }

        #timer-sticky { 
            position: sticky; 
            top: 0; 
            background: rgba(255, 255, 255, 0.95); 
            backdrop-filter: blur(5px);
            padding: 12px; 
            text-align: center; 
            font-size: 20px; 
            font-weight: 800; 
            color: #b21f1f; 
            z-index: 100; 
            border-bottom: 3px solid var(--gold); 
        }

        table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px; }
        th, td { padding: 8px; border-bottom: 1px solid #eee; text-align: left; }

        @media (min-width: 600px) {
            .options-grid { grid-template-columns: 1fr 1fr; }
            .rainbow-school-name { font-size: 24px; }
            .header { padding: 35px 20px; }
        }
    </style>
</head>
<body>

<!-- ATTRACTIVE QUIZ ACCESS SCREEN -->
<div id="passwordScreen" class="access-bg">
  <div class="access-card">
    <div class="lock-circle">üîí</div>

    <h2 class="school-name">‡≤∏‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø ‡≤π‡≤ø‡≤∞‡≤ø‡≤Ø ‡≤™‡≥ç‡≤∞‡≤æ‡≤•‡≤Æ‡≤ø‡≤ï ‡≤∂‡≤æ‡≤≤‡≥Ü, ‡≤¶‡≤æ‡≤∏‡≤∞‡≤µ‡≤æ‡≤°‡≤ø</h2>
    <h3 class="quiz-title">HAPPY NEW YEAR 2026</h3>
    <h4 class="quiz-title">General Knowledge Quiz Access</h4>

    <input type="password" id="quizPassword" placeholder="Enter Quiz Password">
    
    <button class="access-btn" onclick="checkPassword()">ENTER QUIZ</button>

    <p id="passMsg" class="error-msg"></p>
  </div>
</div>


<div class="container">
    <div id="studentPage">
        <div class="header">
            <span class="rainbow-school-name" id="secretTrigger">‡≤∏‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø ‡≤π‡≤ø‡≤∞‡≤ø‡≤Ø ‡≤™‡≥ç‡≤∞‡≤æ‡≤•‡≤Æ‡≤ø‡≤ï ‡≤∂‡≤æ‡≤≤‡≥Ü, ‡≤¶‡≤æ‡≤∏‡≤∞‡≤µ‡≤æ‡≤°‡≤ø</span>
            <h1 style="margin: 5px 0; font-size: 20px;"> ‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤ú‡≥ç‡≤û‡≤æ‡≤®‡≤¶ ‡≤∞‡≤∏‡≤™‡≥ç‡≤∞‡≤∂‡≥ç‡≤®‡≥Ü ‡≤∏‡≥ç‡≤™‡≤∞‡≥ç‡≤ß‡≥Ü </h1>
            <div id="statusBanner" class="status-upcoming">‡≤≤‡≥ã‡≤°‡≥ç ‡≤Ü‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü...</div>
        </div>
        
        <div class="card">
        <label>‡≤§‡≤∞‡≤ó‡≤§‡≤ø (Class):</label>
            <select id="studentClass" onchange="handleClassChange()">
                <option value="">-- Select Class --</option>
                <option value="5">5‡≤®‡≥á ‡≤§‡≤∞‡≤ó‡≤§‡≤ø</option><option value="6">6‡≤®‡≥á ‡≤§‡≤∞‡≤ó‡≤§‡≤ø</option><option value="7">7‡≤®‡≥á ‡≤§‡≤∞‡≤ó‡≤§‡≤ø</option><option value="8">8‡≤®‡≥á ‡≤§‡≤∞‡≤ó‡≤§‡≤ø</option>
            </select>
            <label>‡≤µ‡≤ø‡≤¶‡≥ç‡≤Ø‡≤æ‡≤∞‡≥ç‡≤•‡≤ø‡≤Ø STS No. (Student STS number):</label>
            <input type="text"
       id="studentrollnumber"
       placeholder="Enter 9-Digit STS No."
       maxlength="9"
       inputmode="numeric"
       disabled
       oninput="this.value=this.value.replace(/[^0-9]/g,''); fetchStudentFromMaster()">


            
            <label>‡≤µ‡≤ø‡≤¶‡≥ç‡≤Ø‡≤æ‡≤∞‡≥ç‡≤•‡≤ø‡≤Ø ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å (Student Name):</label>
            <input type="text" id="sName" placeholder="Student Name" readonly>
            <label>‡≤§‡≤Ç‡≤¶‡≥Ü‡≤Ø ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å (Father's Name):</label>
            <input type="text" id="pName" placeholder="Father Name" readonly>
            
            

            <button class="btn-main" id="startBtn" onclick="startQuiz()" disabled>‡≤ï‡≥ç‡≤µ‡≤ø‡≤ú‡≥ç ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø (Start Quiz) ‚ûî</button>
        </div>
    </div>

    <div id="quizPage" class="hidden">
        <div id="timer-sticky">‚è± <span id="timer">1500</span> ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥‡≥Å</div>
        <div id="questionsContainer"></div>
        <button class="btn-main" style="background:green; margin-bottom:50px;" onclick="submitQuiz()">‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø (Finish Quiz)</button>
    </div>
<!-- THANK YOU PAGE -->
<div id="thankYouPage" class="hidden">
  <div class="header">
    <div class="rainbow">‡≤∏‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø ‡≤π‡≤ø‡≤∞‡≤ø‡≤Ø ‡≤™‡≥ç‡≤∞‡≤æ‡≤•‡≤Æ‡≤ø‡≤ï ‡≤∂‡≤æ‡≤≤‡≥Ü, ‡≤¶‡≤æ‡≤∏‡≤∞‡≤µ‡≤æ‡≤°‡≤ø</div>
    <h2>üôè ‡≤ß‡≤®‡≥ç‡≤Ø‡≤µ‡≤æ‡≤¶‡≤ó‡≤≥‡≥Å üôè</h2>
  </div>

  <div class="card" style="text-align:center">
    <h3 style="color:green">Quiz Submitted Successfully</h3>
    <p id="finalName"></p>
    <p style="color:red;font-weight:bold">‡≤ï‡≥á‡≤µ‡≤≤ ‡≤í‡≤Ç‡≤¶‡≥Å ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤®‡≥Å‡≤Æ‡≤§‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü</p>

    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjTs7bWODsf6kahAsLK9E_U3a-hbACRye0_PQ1gQTejHbY72xVbW4LtZOub63G9Fx2ABvfY7MUONnkr9WJrG7NVMlqXwGEPgqqnbnf2x95iQFs2Ix0lJKvc2ggoJPshCxZqdTDPgfAPsEeTI9arQZPL1cmSl4vnG0v3e4eWocE3OMLesDxfjZ0HayaZLCID/s1600/220028.gif"
         width="280" height="130" loading="lazy">
  </div>
</div>

</div>
    <div id="scorePage" class="hidden">
        <div class="header"><span class="rainbow-school-name">‡≤∏‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø ‡≤π‡≤ø‡≤∞‡≤ø‡≤Ø ‡≤™‡≥ç‡≤∞‡≤æ‡≤•‡≤Æ‡≤ø‡≤ï ‡≤∂‡≤æ‡≤≤‡≥Ü, ‡≤¶‡≤æ‡≤∏‡≤∞‡≤µ‡≤æ‡≤°‡≤ø</span><h1>üìä Admin Panel</h1></div>
        <div class="card">
            <h3>üïí Competition Schedule</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div><label>Start:</label><input type="datetime-local" id="schedStart"></div>
                <div><label>End:</label><input type="datetime-local" id="schedEnd"></div>
            </div>
            <button onclick="saveSchedule()" class="btn-main">Update Schedule</button>
            <button onclick="resetSchedule()" style="background:#666; color:white;">Reset Schedule</button>
        </div>
        
        <div class="card">
  <h3>üì§ Bulk Upload Students (Excel)</h3>
  <input type="file" id="excelFile" accept=".xlsx,.xls">
  <button class="btn-main" onclick="uploadStudentsExcel()">Upload Students</button>
  <p id="uploadStatus" style="font-weight:bold;"></p>
</div>

        <div class="card">
            <h3>üîç Search & Filter</h3>
            <input type="text" id="adminSearch" placeholder="Search by Name or Roll No..." onkeyup="filterTable()"> </div>
        
        <div class="card">
            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                <button onclick="downloadWholeResultsPDF()" style="background:#e74c3c; color:white; flex:1; font-size:12px;">PDF</button>
                <button onclick="exportCSV()" style="background:#1D6F42; color:white; flex:1; font-size:12px;">Excel</button>
                <button onclick="clearAllData()" style="background:#333; color:white; flex:1; font-size:12px;">Wipe All</button>
            </div>
            <div style="overflow-x: auto;">
                <table>
                    <thead><tr><th>Rank</th><th>Student</th><th>Father</th><th>Class</th><th>Roll</th><th>Score</th><th>Action</th></tr></thead>
                    <tbody id="leaderboardBody"></tbody>
                </table>
            </div>
            <button onclick="location.reload()" style="background:#eee; color:#333; margin-top: 20px;">Exit Admin</button>
        </div>
    </div>

    <div id="adminModal" class="hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:flex; align-items:center; justify-content:center; z-index:1000;">
        <div style="background:white; padding:30px; border-radius:15px; width:300px; text-align:center;">
            <h3>Admin Access</h3>
            <input type="password" id="adminPass" placeholder="Enter Password">
            <button class="btn-main" onclick="verifyAdmin()">Login</button>
            <button onclick="toggleAdminModal()" style="background:none; color:gray;">Close</button>
        </div>
    </div>

<script>
// üîê QUIZ PASSWORD (CHANGE HERE)
const QUIZ_PASSWORD = "8151004545";

function checkPassword(){
  const pass = document.getElementById("quizPassword").value;
  if(pass === QUIZ_PASSWORD){
    document.getElementById("passwordScreen").style.display="none";
  }else{
    document.getElementById("passMsg").innerText="‚ùå Wrong Password";
  }
}

    // 1. FIREBASE CONFIG
    const firebaseConfig = {
        apiKey: "AIzaSyCDg2lvJAsZvqP1YfalJj6jpA7qTBn5qRM",
        authDomain: "mathsquizcompetitionsjs.firebaseapp.com",
        projectId: "mathsquizcompetitionsjs",
        storageBucket: "mathsquizcompetitionsjs.firebasestorage.app",
        messagingSenderId: "697659887210",
        appId: "1:697659887210:web:21d4f2a4244093466b0413"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    

       

    // 2. SECRET DOOR LOGIC
    let clicks = 0;
    let clickTimeout;
    document.getElementById('secretTrigger').onclick = function() {
        clicks++;
        clearTimeout(clickTimeout);
        if(clicks === 5) { clicks = 0; toggleAdminModal(); }
        clickTimeout = setTimeout(() => { clicks = 0; }, 2500);
    };

    function toggleAdminModal() { document.getElementById('adminModal').classList.toggle('hidden'); }

    function verifyAdmin() {
        if(document.getElementById('adminPass').value === "Sairam@123") {
            toggleAdminModal();
            document.getElementById('studentPage').classList.add('hidden');
            document.getElementById('scorePage').classList.remove('hidden');
            loadLeaderboard();
            loadScheduleInputs();
        } else { alert("Wrong Password!"); }
    }

    // 3. QUIZ CONTENT
    const questions = [
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤™‡≥ç‡≤∞‡≤•‡≤Æ ‡≤™‡≥ç‡≤∞‡≤ú‡≥Ü ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤™‡≥ç‡≤∞‡≤ß‡≤æ‡≤® ‡≤Æ‡≤Ç‡≤§‡≥ç‡≤∞‡≤ø", "‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≤™‡≤§‡≤ø", "‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø‡≤™‡≤æ‡≤≤‡≤∞‡≥Å", "‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø ‡≤®‡≥ç‡≤Ø‡≤æ‡≤Ø‡≤æ‡≤ß‡≥Ä‡≤∂‡≤∞‡≥Å"], a: "‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≤™‡≤§‡≤ø" },
    { q: "‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï‡≤¶ ‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø ‡≤™‡≥ç‡≤∞‡≤æ‡≤£‡≤ø ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤π‡≥Å‡≤≤‡≤ø", "‡≤∏‡≤ø‡≤Ç‡≤π", "‡≤Ü‡≤®‡≥Ü", "‡≤ú‡≤ø‡≤Ç‡≤ï‡≥Ü"], a: "‡≤Ü‡≤®‡≥Ü" },
    { q: "‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ ‡≤™‡≤∞‡≤ø‡≤∏‡≤∞ ‡≤¶‡≤ø‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ø‡≤æ‡≤µ‡≤æ‡≤ó ‡≤Ü‡≤ö‡≤∞‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü?", options: ["‡≤ú‡≥Ç‡≤®‡≥ç 5", "‡≤ú‡≥Ç‡≤®‡≥ç 15", "‡≤Ü‡≤ó‡≤∏‡≥ç‡≤ü‡≥ç 15", "‡≤ú‡≤®‡≤µ‡≤∞‡≤ø 26"], a: "‡≤ú‡≥Ç‡≤®‡≥ç 5" },
    { q: "‡≤∏‡≥Ç‡≤∞‡≥ç‡≤Ø‡≤®‡≤ø‡≤ó‡≥Ü ‡≤Ö‡≤§‡≥ç‡≤Ø‡≤Ç‡≤§ ‡≤π‡≤§‡≥ç‡≤§‡≤ø‡≤∞‡≤µ‡≤ø‡≤∞‡≥Å‡≤µ ‡≤ó‡≥ç‡≤∞‡≤π ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤∂‡≥Å‡≤ï‡≥ç‡≤∞", "‡≤Æ‡≤Ç‡≤ó‡≤≥", "‡≤¨‡≥Å‡≤ß", "‡≤ó‡≥Å‡≤∞‡≥Å"], a: "‡≤¨‡≥Å‡≤ß" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤∏‡≤Ç‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤¶ ‡≤™‡≤ø‡≤§‡≤æ‡≤Æ‡≤π ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤ó‡≤æ‡≤Ç‡≤ß‡≥Ä‡≤ú‡≤ø", "‡≤®‡≥Ü‡≤π‡≤∞‡≥Å", "‡≤¨‡≤ø.‡≤Ü‡≤∞‡≥ç. ‡≤Ö‡≤Ç‡≤¨‡≥á‡≤°‡≥ç‡≤ï‡≤∞‡≥ç", "‡≤∏‡≤¶‡≤æ‡≤∞‡≥ç ‡≤™‡≤ü‡≥á‡≤≤‡≥ç"], a: "‡≤¨‡≤ø.‡≤Ü‡≤∞‡≥ç. ‡≤Ö‡≤Ç‡≤¨‡≥á‡≤°‡≥ç‡≤ï‡≤∞‡≥ç" },
    { q: "‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤¶ ‡≤Ö‡≤§‡≤ø ‡≤é‡≤§‡≥ç‡≤§‡≤∞‡≤¶ ‡≤∂‡≤ø‡≤ñ‡≤∞ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ï‡≥Ü2", "‡≤Æ‡≥å‡≤Ç‡≤ü‡≥ç ‡≤é‡≤µ‡≤∞‡≥Ü‡≤∏‡≥ç‡≤ü‡≥ç", "‡≤ï‡≤æ‡≤Ç‡≤ö‡≤®‡≤ú‡≥Å‡≤Ç‡≤ó‡≤æ", "‡≤®‡≤Ç‡≤¶‡≤æ‡≤¶‡≥á‡≤µ‡≤ø"], a: "‡≤Æ‡≥å‡≤Ç‡≤ü‡≥ç ‡≤é‡≤µ‡≤∞‡≥Ü‡≤∏‡≥ç‡≤ü‡≥ç" },
    { q: "‡≤Æ‡≤æ‡≤®‡≤µ ‡≤¶‡≥á‡≤π‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø‡≤∞‡≥Å‡≤µ ‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≥Ç‡≤≥‡≥Ü‡≤ó‡≤≥ ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å?", options: ["200", "206", "210", "250"], a: "206" },
    { q: "‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï‡≤¶ ‡≤Ö‡≤§‡≤ø ‡≤é‡≤§‡≥ç‡≤§‡≤∞‡≤¶ ‡≤∂‡≤ø‡≤ñ‡≤∞ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ï‡≥Å‡≤¶‡≥Å‡≤∞‡≥Ü‡≤Æ‡≥Å‡≤ñ", "‡≤Æ‡≥Å‡≤≥‡≥ç‡≤≥‡≤Ø‡≥ç‡≤Ø‡≤®‡≤ó‡≤ø‡≤∞‡≤ø", "‡≤¨‡≤æ‡≤¨‡≤æ‡≤¨‡≥Å‡≤°‡≤®‡≥ç ‡≤ó‡≤ø‡≤∞‡≤ø", "‡≤ï‡≥ä‡≤°‡≤ö‡≤æ‡≤¶‡≥ç‡≤∞‡≤ø"], a: "‡≤Æ‡≥Å‡≤≥‡≥ç‡≤≥‡≤Ø‡≥ç‡≤Ø‡≤®‡≤ó‡≤ø‡≤∞‡≤ø" },
    { q: "‡≤ó‡≤æ‡≤Ç‡≤ß‡≥Ä‡≤ú‡≤ø‡≤Ø‡≤µ‡≤∞‡≥Å ‡≤ú‡≤®‡≤ø‡≤∏‡≤ø‡≤¶ ‡≤∏‡≥ç‡≤•‡≤≥ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤∞‡≤æ‡≤ú‡≤ï‡≥ã‡≤ü‡≥ç", "‡≤Ö‡≤π‡≤Æ‡≤¶‡≤æ‡≤¨‡≤æ‡≤¶‡≥ç", "‡≤™‡≥ã‡≤∞‡≤¨‡≤Ç‡≤¶‡≤∞‡≥ç", "‡≤∏‡≥Ç‡≤∞‡≤§‡≥ç"], a: "‡≤™‡≥ã‡≤∞‡≤¨‡≤Ç‡≤¶‡≤∞‡≥ç" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø ‡≤π‡≤ï‡≥ç‡≤ï‡≤ø ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ó‡≤ø‡≤≥‡≤ø", "‡≤®‡≤µ‡≤ø‡≤≤‡≥Å", "‡≤ï‡≥ã‡≤ó‡≤ø‡≤≤‡≥Ü", "‡≤π‡≤¶‡≥ç‡≤¶‡≥Å"], a: "‡≤®‡≤µ‡≤ø‡≤≤‡≥Å" },
    { q: "‡≤∏‡≥ä‡≤®‡≥ç‡≤®‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å (Zero) ‡≤ï‡≤Ç‡≤°‡≥Å‡≤π‡≤ø‡≤°‡≤ø‡≤¶‡≤µ‡≤∞‡≥Å ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤≠‡≤æ‡≤∏‡≥ç‡≤ï‡≤∞‡≤æ‡≤ö‡≤æ‡≤∞‡≥ç‡≤Ø", "‡≤Ü‡≤∞‡≥ç‡≤Ø‡≤≠‡≤ü", "‡≤ö‡≤∞‡≤ï", "‡≤µ‡≤∞‡≤æ‡≤π‡≤Æ‡≤ø‡≤π‡≤ø‡≤∞"], a: "‡≤Ü‡≤∞‡≥ç‡≤Ø‡≤≠‡≤ü" },
    { q: "‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï‡≤¶ ‡≤â‡≤¶‡≥ç‡≤Ø‡≤æ‡≤® ‡≤®‡≤ó‡≤∞‡≤ø ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤æ‡≤∞‡≥Ü?", options: ["‡≤Æ‡≥à‡≤∏‡≥Ç‡≤∞‡≥Å", "‡≤¨‡≥Ü‡≤Ç‡≤ó‡≤≥‡≥Ç‡≤∞‡≥Å", "‡≤Æ‡≤Ç‡≤ó‡≤≥‡≥Ç‡≤∞‡≥Å", "‡≤∂‡≤ø‡≤µ‡≤Æ‡≥ä‡≤ó‡≥ç‡≤ó"], a: "‡≤¨‡≥Ü‡≤Ç‡≤ó‡≤≥‡≥Ç‡≤∞‡≥Å" },
    { q: "‡≤µ‡≤Ç‡≤¶‡≥á ‡≤Æ‡≤æ‡≤§‡≤∞‡≤Ç ‡≤ó‡≥Ä‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤¶‡≤µ‡≤∞‡≥Å ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤ü‡≥ç‡≤Ø‡≤æ‡≤ó‡≥ã‡≤∞‡≥ç", "‡≤ï‡≥Å‡≤µ‡≥Ü‡≤Ç‡≤™‡≥Å", "‡≤¨‡≤Ç‡≤ï‡≤ø‡≤Æ‡≤ö‡≤Ç‡≤¶‡≥ç‡≤∞ ‡≤ö‡≤ü‡≤∞‡≥ç‡≤ú‡≤ø", "‡≤¨‡≥á‡≤Ç‡≤¶‡≥ç‡≤∞‡≥Ü"], a: "‡≤¨‡≤Ç‡≤ï‡≤ø‡≤Æ‡≤ö‡≤Ç‡≤¶‡≥ç‡≤∞ ‡≤ö‡≤ü‡≤∞‡≥ç‡≤ú‡≤ø" },
    { q: "‡≤≠‡≥Ç‡≤Æ‡≤ø‡≤Ø ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤Ö‡≤§‡≤ø ‡≤µ‡≥á‡≤ó‡≤µ‡≤æ‡≤ó‡≤ø ‡≤ì‡≤°‡≥Å‡≤µ ‡≤™‡≥ç‡≤∞‡≤æ‡≤£‡≤ø?", options: ["‡≤ï‡≥Å‡≤¶‡≥Å‡≤∞‡≥Ü", "‡≤ö‡≤ø‡≤∞‡≤§‡≥Ü", "‡≤π‡≥Å‡≤≤‡≤ø", "‡≤∏‡≤ø‡≤Ç‡≤π"], a: "‡≤ö‡≤ø‡≤∞‡≤§‡≥Ü" },
    { q: "‡≤ï‡≤Ç‡≤™‡≥ç‡≤Ø‡≥Ç‡≤ü‡≤∞‡≥ç ‡≤ï‡≤Ç‡≤°‡≥Å‡≤π‡≤ø‡≤°‡≤ø‡≤¶‡≤µ‡≤∞‡≥Å ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤®‡≥ç‡≤Ø‡≥Ç‡≤ü‡≤®‡≥ç", "‡≤ê‡≤®‡≥ç‡≤∏‡≥ç‡≤ü‡≥à‡≤®‡≥ç", "‡≤ö‡≤æ‡≤∞‡≥ç‡≤≤‡≥ç‡≤∏‡≥ç ‡≤¨‡≥ç‡≤Ø‡≤æ‡≤¨‡≥á‡≤ú‡≥ç", "‡≤é‡≤°‡≤ø‡≤∏‡≤®‡≥ç"], a: "‡≤ö‡≤æ‡≤∞‡≥ç‡≤≤‡≥ç‡≤∏‡≥ç ‡≤¨‡≥ç‡≤Ø‡≤æ‡≤¨‡≥á‡≤ú‡≥ç" },
    { q: "‡≤ú‡≥à ‡≤π‡≤ø‡≤Ç‡≤¶‡≥ç ‡≤ò‡≥ã‡≤∑‡≤£‡≥Ü ‡≤®‡≥Ä‡≤°‡≤ø‡≤¶‡≤µ‡≤∞‡≥Å ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤∏‡≥Å‡≤≠‡≤æ‡≤∑‡≥ç ‡≤ö‡≤Ç‡≤¶‡≥ç‡≤∞ ‡≤¨‡≥ã‡≤∏‡≥ç", "‡≤ó‡≤æ‡≤Ç‡≤ß‡≥Ä‡≤ú‡≤ø", "‡≤≠‡≤ó‡≤§‡≥ç ‡≤∏‡≤ø‡≤Ç‡≤ó‡≥ç", "‡≤®‡≥Ü‡≤π‡≤∞‡≥Å"], a: "‡≤∏‡≥Å‡≤≠‡≤æ‡≤∑‡≥ç ‡≤ö‡≤Ç‡≤¶‡≥ç‡≤∞ ‡≤¨‡≥ã‡≤∏‡≥ç" },
    { q: "‡≤µ‡≤ø‡≤¶‡≥ç‡≤Ø‡≥Å‡≤§‡≥ç ‡≤¨‡≤≤‡≥ç‡≤¨‡≥ç ‡≤ï‡≤Ç‡≤°‡≥Å‡≤π‡≤ø‡≤°‡≤ø‡≤¶‡≤µ‡≤∞‡≥Å ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤Ç ‡≤¨‡≥Ü‡≤≤‡≥ç", "‡≤•‡≤æ‡≤Æ‡≤∏‡≥ç ‡≤Ö‡≤≤‡≥ç‡≤µ‡≤æ ‡≤é‡≤°‡≤ø‡≤∏‡≤®‡≥ç", "‡≤®‡≥ç‡≤Ø‡≥Ç‡≤ü‡≤®‡≥ç", "‡≤µ‡≤æ‡≤ü‡≥ç"], a: "‡≤•‡≤æ‡≤Æ‡≤∏‡≥ç ‡≤Ö‡≤≤‡≥ç‡≤µ‡≤æ ‡≤é‡≤°‡≤ø‡≤∏‡≤®‡≥ç" },
    { q: "‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï‡≤¶ ‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø ‡≤™‡≥Å‡≤∑‡≥ç‡≤™ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ó‡≥Å‡≤≤‡≤æ‡≤¨‡≤ø", "‡≤∏‡≥Ç‡≤∞‡≥ç‡≤Ø‡≤ï‡≤æ‡≤Ç‡≤§‡≤ø", "‡≤ï‡≤Æ‡≤≤", "‡≤Æ‡≤≤‡≥ç‡≤≤‡≤ø‡≤ó‡≥Ü"], a: "‡≤ï‡≤Æ‡≤≤" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤ï‡≤¨‡≥ç‡≤¨‡≤ø‡≤£‡≤¶ ‡≤Æ‡≤®‡≥Å‡≤∑‡≥ç‡≤Ø ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤≤‡≤æ‡≤≤‡≤æ ‡≤≤‡≤ú‡≤™‡≤§ ‡≤∞‡≤æ‡≤Ø‡≥ç", "‡≤∏‡≤∞‡≥ç‡≤¶‡≤æ‡≤∞‡≥ç ‡≤™‡≤ü‡≥á‡≤≤‡≥ç", "‡≤§‡≤ø‡≤≤‡≤ï‡≥ç", "‡≤®‡≥á‡≤§‡≤æ‡≤ú‡≤ø"], a: "‡≤∏‡≤∞‡≥ç‡≤¶‡≤æ‡≤∞‡≥ç ‡≤™‡≤ü‡≥á‡≤≤‡≥ç" },
    { q: "‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤¶ ‡≤Ö‡≤§‡≤ø ‡≤¶‡≥ä‡≤°‡≥ç‡≤° ‡≤ñ‡≤Ç‡≤° ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤Ü‡≤´‡≥ç‡≤∞‡≤ø‡≤ï‡≤æ", "‡≤Ø‡≥Å‡≤∞‡≥ã‡≤™‡≥ç", "‡≤è‡≤∑‡≥ç‡≤Ø‡≤æ", "‡≤Ö‡≤Æ‡≥Ü‡≤∞‡≤ø‡≤ï‡≤æ"], a: "‡≤è‡≤∑‡≥ç‡≤Ø‡≤æ" },
    { q: "‡≤¨‡≥Ü‡≤≥‡≤ï‡≤ø‡≤® ‡≤µ‡≥á‡≤ó ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≤ø‡≤ó‡≥Ü ‡≤∏‡≥Å‡≤Æ‡≤æ‡≤∞‡≥Å ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å?", options: ["1 ‡≤≤‡≤ï‡≥ç‡≤∑ ‡≤ï‡≤ø‡≤Æ‡≥Ä", "2 ‡≤≤‡≤ï‡≥ç‡≤∑ ‡≤ï‡≤ø‡≤Æ‡≥Ä", "3 ‡≤≤‡≤ï‡≥ç‡≤∑ ‡≤ï‡≤ø‡≤Æ‡≥Ä", "4 ‡≤≤‡≤ï‡≥ç‡≤∑ ‡≤ï‡≤ø‡≤Æ‡≥Ä"], a: "3 ‡≤≤‡≤ï‡≥ç‡≤∑ ‡≤ï‡≤ø‡≤Æ‡≥Ä" },
    { q: "‡≤ó‡≤ø‡≤°‡≤¶ ‡≤Ø‡≤æ‡≤µ ‡≤≠‡≤æ‡≤ó ‡≤Ü‡≤π‡≤æ‡≤∞ ‡≤§‡≤Ø‡≤æ‡≤∞‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü?", options: ["‡≤¨‡≥á‡≤∞‡≥Å", "‡≤π‡≥Ç‡≤µ‡≥Å", "‡≤é‡≤≤‡≥Ü", "‡≤ï‡≤æ‡≤Ç‡≤°"], a: "‡≤é‡≤≤‡≥Ü" },
    { q: "‡≤á‡≤®‡≥ç‡≤∏‡≥Å‡≤≤‡≤ø‡≤®‡≥ç ‡≤ï‡≥ä‡≤∞‡≤§‡≥Ü‡≤Ø‡≤ø‡≤Ç‡≤¶ ‡≤¨‡≤∞‡≥Å‡≤µ ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤≤‡≥Ü ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ï‡≥ç‡≤Ø‡≤æ‡≤®‡≥ç‡≤∏‡≤∞‡≥ç", "‡≤Æ‡≤ß‡≥Å‡≤Æ‡≥á‡≤π (Sugar)", "‡≤ï‡≥ç‡≤∑‡≤Ø", "‡≤∞‡≤ï‡≥ç‡≤§‡≤π‡≥Ä‡≤®‡≤§‡≥Ü"], a: "‡≤Æ‡≤ß‡≥Å‡≤Æ‡≥á‡≤π (Sugar)" },
    { q: "‡≤ï‡≤®‡≥ç‡≤®‡≤°‡≤¶ ‡≤Æ‡≥ä‡≤¶‡≤≤ ‡≤ï‡≤µ‡≤ø ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤™‡≤Ç‡≤™", "‡≤∞‡≤®‡≥ç‡≤®", "‡≤™‡≥ä‡≤®‡≥ç‡≤®", "‡≤ú‡≤®‡≥ç‡≤®"], a: "‡≤™‡≤Ç‡≤™" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤Æ‡≥ä‡≤¶‡≤≤ ‡≤Æ‡≤π‡≤ø‡≤≥‡≤æ ‡≤™‡≥ç‡≤∞‡≤ß‡≤æ‡≤® ‡≤Æ‡≤Ç‡≤§‡≥ç‡≤∞‡≤ø ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤™‡≥ç‡≤∞‡≤§‡≤ø‡≤≠‡≤æ ‡≤™‡≤æ‡≤ü‡≥Ä‡≤≤‡≥ç", "‡≤á‡≤Ç‡≤¶‡≤ø‡≤∞‡≤æ ‡≤ó‡≤æ‡≤Ç‡≤ß‡≤ø", "‡≤∏‡≤∞‡≥ã‡≤ú‡≤ø‡≤®‡≤ø ‡≤®‡≤æ‡≤Ø‡≥ç‡≤°‡≥Å", "‡≤ï‡≤ø‡≤∞‡≤£‡≥ç ‡≤¨‡≥á‡≤°‡≤ø"], a: "‡≤á‡≤Ç‡≤¶‡≤ø‡≤∞‡≤æ ‡≤ó‡≤æ‡≤Ç‡≤ß‡≤ø" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤Ö‡≤§‡≥ç‡≤Ø‡≥Å‡≤®‡≥ç‡≤®‡≤§ ‡≤®‡≤æ‡≤ó‡≤∞‡≤ø‡≤ï ‡≤™‡≥ç‡≤∞‡≤∂‡≤∏‡≥ç‡≤§‡≤ø ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤™‡≤¶‡≥ç‡≤Æ‡≤≠‡≥Ç‡≤∑‡≤£", "‡≤™‡≤∞‡≤Æ‡≤µ‡≥Ä‡≤∞ ‡≤ö‡≤ï‡≥ç‡≤∞", "‡≤≠‡≤æ‡≤∞‡≤§ ‡≤∞‡≤§‡≥ç‡≤®", "‡≤ú‡≥ç‡≤û‡≤æ‡≤®‡≤™‡≥Ä‡≤†"], a: "‡≤≠‡≤æ‡≤∞‡≤§ ‡≤∞‡≤§‡≥ç‡≤®" },
    { q: "‡≤∞‡≤æ‡≤Æ‡≤æ‡≤Ø‡≤£ ‡≤¨‡≤∞‡≥Ü‡≤¶‡≤µ‡≤∞‡≥Å ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤µ‡≥ç‡≤Ø‡≤æ‡≤∏‡≤∞‡≥Å", "‡≤µ‡≤æ‡≤≤‡≥ç‡≤Æ‡≥Ä‡≤ï‡≤ø", "‡≤§‡≥Å‡≤≥‡≤∏‡≥Ä‡≤¶‡≤æ‡≤∏‡≤∞‡≥Å", "‡≤ï‡≤æ‡≤≥‡≤ø‡≤¶‡≤æ‡≤∏"], a: "‡≤µ‡≤æ‡≤≤‡≥ç‡≤Æ‡≥Ä‡≤ï‡≤ø" },
    { q: "‡≤ö‡≤Ç‡≤¶‡≥ç‡≤∞‡≤® ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤ï‡≤æ‡≤≤‡≤ø‡≤ü‡≥ç‡≤ü ‡≤Æ‡≥ä‡≤¶‡≤≤ ‡≤Æ‡≤æ‡≤®‡≤µ?", options: ["‡≤®‡≥Ä‡≤≤‡≥ç ‡≤Ü‡≤∞‡≥ç‡≤Æ‡≥ç ‡≤∏‡≥ç‡≤ü‡≥ç‡≤∞‡≤æ‡≤Ç‡≤ó‡≥ç", "‡≤Ø‡≥Ç‡≤∞‡≤ø ‡≤ó‡≤ó‡≤æ‡≤∞‡≤ø‡≤®‡≥ç", "‡≤∞‡≤æ‡≤ï‡≥á‡≤∂‡≥ç ‡≤∂‡≤∞‡≥ç‡≤Æ", "‡≤Ö‡≤≤‡≥ç‡≤°‡≥ç‡≤∞‡≤ø‡≤®‡≥ç"], a: "‡≤®‡≥Ä‡≤≤‡≥ç ‡≤Ü‡≤∞‡≥ç‡≤Æ‡≥ç ‡≤∏‡≥ç‡≤ü‡≥ç‡≤∞‡≤æ‡≤Ç‡≤ó‡≥ç" },
    { q: "‡≤ï‡≥ç‡≤∞‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç ‡≤Ü‡≤ü‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å ‡≤Ü‡≤ü‡≤ó‡≤æ‡≤∞‡≤∞‡≥Å ‡≤á‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤æ‡≤∞‡≥Ü?", options: ["9", "10", "11", "12"], a: "11" },
    { q: "‡≤¶‡≥Ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤ï (Telescope) ‡≤ï‡≤Ç‡≤°‡≥Å‡≤π‡≤ø‡≤°‡≤ø‡≤¶‡≤µ‡≤∞‡≥Å?", options: ["‡≤ó‡≥ç‡≤Ø‡≤æ‡≤≤‡≤ø‡≤≤‡≤ø‡≤Ø‡≥ã", "‡≤®‡≥ç‡≤Ø‡≥Ç‡≤ü‡≤®‡≥ç", "‡≤°‡≤æ‡≤≤‡≥ç‡≤ü‡≤®‡≥ç", "‡≤™‡≤æ‡≤∏‡≥ç‡≤ü‡≤∞‡≥ç"], a: "‡≤ó‡≥ç‡≤Ø‡≤æ‡≤≤‡≤ø‡≤≤‡≤ø‡≤Ø‡≥ã" },
    { q: "‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï‡≤¶ ‡≤ï‡≥Å‡≤≤‡≤™‡≥Å‡≤∞‡≥ã‡≤π‡≤ø‡≤§ ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤Ø‡≤æ‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤æ‡≤∞‡≥Ü?", options: ["‡≤Ü‡≤≤‡≥Ç‡≤∞‡≥Å ‡≤µ‡≥Ü‡≤Ç‡≤ï‡≤ü‡≤∞‡≤æ‡≤Ø‡≤∞‡≥Å", "‡≤ï‡≥Å‡≤µ‡≥Ü‡≤Ç‡≤™‡≥Å", "‡≤ï‡≤æ‡≤∞‡≤Ç‡≤§‡≤∞‡≥Å", "‡≤¨‡≤ø.‡≤é‡≤Ç.‡≤∂‡≥ç‡≤∞‡≥Ä"], a: "‡≤Ü‡≤≤‡≥Ç‡≤∞‡≥Å ‡≤µ‡≥Ü‡≤Ç‡≤ï‡≤ü‡≤∞‡≤æ‡≤Ø‡≤∞‡≥Å" },
    { q: "‡≤∏‡≥å‡≤∞‡≤µ‡≥ç‡≤Ø‡≥Ç‡≤π‡≤¶ ‡≤Ö‡≤§‡≤ø ‡≤¶‡≥ä‡≤°‡≥ç‡≤° ‡≤ó‡≥ç‡≤∞‡≤π ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤∂‡≤®‡≤ø", "‡≤ó‡≥Å‡≤∞‡≥Å", "‡≤Ø‡≥Å‡≤∞‡≥á‡≤®‡≤∏‡≥ç", "‡≤®‡≥Ü‡≤™‡≥ç‡≤ö‡≥Ç‡≤®‡≥ç"], a: "‡≤ó‡≥Å‡≤∞‡≥Å" },
    { q: "‡≤í‡≤≤‡≤ø‡≤Ç‡≤™‡≤ø‡≤ï‡≥ç ‡≤ß‡≥ç‡≤µ‡≤ú‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å ‡≤â‡≤Ç‡≤ó‡≥Å‡≤∞‡≤ó‡≤≥‡≤ø‡≤µ‡≥Ü?", options: ["4", "5", "6", "3"], a: "5" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø ‡≤®‡≤¶‡≤ø ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ï‡≤æ‡≤µ‡≥á‡≤∞‡≤ø", "‡≤Ø‡≤Æ‡≥Å‡≤®‡≤æ", "‡≤ó‡≤Ç‡≤ó‡≤æ", "‡≤¨‡≥ç‡≤∞‡≤π‡≥ç‡≤Æ‡≤™‡≥Å‡≤§‡≥ç‡≤∞"], a: "‡≤ó‡≤Ç‡≤ó‡≤æ" },
    { q: "‡≤∏‡≤ï‡≥ç‡≤ï‡≤∞‡≥Ü ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤≤‡≥Ü‡≤ó‡≥Ü ‡≤ö‡≤ø‡≤ï‡≤ø‡≤§‡≥ç‡≤∏‡≥Ü ‡≤®‡≥Ä‡≤°‡≤≤‡≥Å ‡≤¨‡≤≥‡≤∏‡≥Å‡≤µ ‡≤π‡≤æ‡≤∞‡≥ç‡≤Æ‡≥ã‡≤®‡≥ç?", options: ["‡≤•‡≥à‡≤∞‡≤æ‡≤ï‡≥ç‡≤∏‡≤ø‡≤®‡≥ç", "‡≤á‡≤®‡≥ç‡≤∏‡≥Å‡≤≤‡≤ø‡≤®‡≥ç", "‡≤Ö‡≤°‡≥ç‡≤∞‡≤ø‡≤®‡≤æ‡≤≤‡≤ø‡≤®‡≥ç", "‡≤à‡≤∏‡≥ç‡≤ü‡≥ç‡≤∞‡≥ã‡≤ú‡≤®‡≥ç"], a: "‡≤á‡≤®‡≥ç‡≤∏‡≥Å‡≤≤‡≤ø‡≤®‡≥ç" },
    { q: "‡≤≠‡≥Ç‡≤Æ‡≤ø ‡≤§‡≤®‡≥ç‡≤® ‡≤Ö‡≤ï‡≥ç‡≤∑‡≤¶ ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥Å‡≤µ‡≥Å‡≤¶‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤è‡≤®‡≥Ü‡≤®‡≥ç‡≤®‡≥Å‡≤§‡≥ç‡≤§‡≤æ‡≤∞‡≥Ü?", options: ["‡≤™‡≤∞‡≤ø‡≤≠‡≥ç‡≤∞‡≤Æ‡≤£‡≥Ü", "‡≤≠‡≥ç‡≤∞‡≤Æ‡≤£‡≥Ü", "‡≤ó‡≥ç‡≤∞‡≤π‡≤£", "‡≤ö‡≤≤‡≤®‡≥Ü"], a: "‡≤≠‡≥ç‡≤∞‡≤Æ‡≤£‡≥Ü" },
    { q: "‡≤ó‡≤°‡≤ø‡≤Ø‡≤æ‡≤∞‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥ç ‡≤Æ‡≥Å‡≤≥‡≥ç‡≤≥‡≥Å ‡≤á‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü?", options: ["1", "2", "3", "0"], a: "1" },
    { q: "‡≤≤‡≥ã‡≤π‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Ö‡≤§‡≤ø ‡≤π‡≤ó‡≥Å‡≤∞‡≤µ‡≤æ‡≤¶ ‡≤≤‡≥ã‡≤π ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ö‡≤ø‡≤®‡≥ç‡≤®", "‡≤≤‡≤ø‡≤•‡≤ø‡≤Ø‡≤Ç", "‡≤ï‡≤¨‡≥ç‡≤¨‡≤ø‡≤£", "‡≤Ö‡≤≤‡≥ç‡≤Ø‡≥Ç‡≤Æ‡≤ø‡≤®‡≤ø‡≤Ø‡≤Ç"], a: "‡≤≤‡≤ø‡≤•‡≤ø‡≤Ø‡≤Ç" },
    { q: "‡≤ó‡≤£‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø‡≥ã‡≤§‡≥ç‡≤∏‡≤µ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ø‡≤æ‡≤µ‡≤æ‡≤ó ‡≤Ü‡≤ö‡≤∞‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü?", options: ["‡≤Ü‡≤ó‡≤∏‡≥ç‡≤ü‡≥ç 15", "‡≤ú‡≤®‡≤µ‡≤∞‡≤ø 26", "‡≤Ö‡≤ï‡≥ç‡≤ü‡≥ã‡≤¨‡≤∞‡≥ç 2", "‡≤®‡≤µ‡≥Ü‡≤Ç‡≤¨‡≤∞‡≥ç 1"], a: "‡≤ú‡≤®‡≤µ‡≤∞‡≤ø 26" },
    { q: "‡≤ï‡≤®‡≥ç‡≤®‡≤°‡≤¶ ‡≤Æ‡≥ä‡≤¶‡≤≤ ‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤™‡≤§‡≥ç‡≤∞‡≤ø‡≤ï‡≥Ü ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤∏‡≤Ç‡≤Ø‡≥Å‡≤ï‡≥ç‡≤§ ‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï", "‡≤Æ‡≤Ç‡≤ó‡≤≥‡≥Ç‡≤∞‡≥Å ‡≤∏‡≤Æ‡≤æ‡≤ö‡≤æ‡≤∞", "‡≤™‡≥ç‡≤∞‡≤ú‡≤æ‡≤µ‡≤æ‡≤£‡≤ø", "‡≤µ‡≤ø‡≤ú‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø"], a: "‡≤Æ‡≤Ç‡≤ó‡≤≥‡≥Ç‡≤∞‡≥Å ‡≤∏‡≤Æ‡≤æ‡≤ö‡≤æ‡≤∞" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø ‡≤ï‡≥ç‡≤∞‡≥Ä‡≤°‡≥Ü ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤ï‡≥ç‡≤∞‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç", "‡≤ï‡≤¨‡≤°‡≥ç‡≤°‡≤ø", "‡≤π‡≤æ‡≤ï‡≤ø", "‡≤´‡≥Å‡≤ü‡≥ç‡≤¨‡≤æ‡≤≤‡≥ç"], a: "‡≤π‡≤æ‡≤ï‡≤ø" },
    { q: "‡≤Æ‡≤æ‡≤®‡≤µ‡≤® ‡≤∞‡≤ï‡≥ç‡≤§‡≤¶ ‡≤¨‡≤£‡≥ç‡≤£ ‡≤ï‡≥Ü‡≤Ç‡≤™‡≥Å ‡≤á‡≤∞‡≤≤‡≥Å ‡≤ï‡≤æ‡≤∞‡≤£‡≤µ‡≥á‡≤®‡≥Å?", options: ["‡≤ï‡≥ç‡≤≤‡≥ã‡≤∞‡≥ã‡≤´‡≤ø‡≤≤‡≥ç", "‡≤π‡≤ø‡≤Æ‡≥ã‡≤ó‡≥ç‡≤≤‡≥ã‡≤¨‡≤ø‡≤®‡≥ç", "‡≤™‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç‡≤Æ‡≤æ", "‡≤®‡≥à‡≤ü‡≥ç‡≤∞‡≥ã‡≤ú‡≤®‡≥ç"], a: "‡≤π‡≤ø‡≤Æ‡≥ã‡≤ó‡≥ç‡≤≤‡≥ã‡≤¨‡≤ø‡≤®‡≥ç" },
    { q: "‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤¶ ‡≤Ö‡≤§‡≤ø ‡≤¶‡≥ä‡≤°‡≥ç‡≤° ‡≤∏‡≤æ‡≤ó‡≤∞ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤π‡≤ø‡≤Ç‡≤¶‡≥Ç ‡≤Æ‡≤π‡≤æ‡≤∏‡≤æ‡≤ó‡≤∞", "‡≤™‡≥Ü‡≤∏‡≤ø‡≤´‡≤ø‡≤ï‡≥ç ‡≤Æ‡≤π‡≤æ‡≤∏‡≤æ‡≤ó‡≤∞", "‡≤Ö‡≤ü‡≥ç‡≤≤‡≤æ‡≤Ç‡≤ü‡≤ø‡≤ï‡≥ç", "‡≤Ü‡≤∞‡≥ç‡≤ï‡≥ç‡≤ü‡≤ø‡≤ï‡≥ç"], a: "‡≤™‡≥Ü‡≤∏‡≤ø‡≤´‡≤ø‡≤ï‡≥ç ‡≤Æ‡≤π‡≤æ‡≤∏‡≤æ‡≤ó‡≤∞" },
    { q: "‡≤≠‡≤æ‡≤∞‡≤§‡≤¶ ‡≤∏‡≤ø‡≤≤‡≤ø‡≤ï‡≤æ‡≤®‡≥ç ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤≤‡≤ø ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤™‡≤°‡≥Å‡≤µ ‡≤®‡≤ó‡≤∞?", options: ["‡≤π‡≥à‡≤¶‡≤∞‡≤æ‡≤¨‡≤æ‡≤¶‡≥ç", "‡≤ö‡≥Ü‡≤®‡≥ç‡≤®‡≥à", "‡≤¨‡≥Ü‡≤Ç‡≤ó‡≤≥‡≥Ç‡≤∞‡≥Å", "‡≤Æ‡≥Å‡≤Ç‡≤¨‡≥à"], a: "‡≤¨‡≥Ü‡≤Ç‡≤ó‡≤≥‡≥Ç‡≤∞‡≥Å" },
    { q: "‡≤ï‡≤®‡≥ç‡≤®‡≤°‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å ‡≤ú‡≥ç‡≤û‡≤æ‡≤®‡≤™‡≥Ä‡≤† ‡≤™‡≥ç‡≤∞‡≤∂‡≤∏‡≥ç‡≤§‡≤ø‡≤ó‡≤≥‡≥Å ‡≤¨‡≤Ç‡≤¶‡≤ø‡≤µ‡≥Ü?", options: ["7", "8", "9", "6"], a: "8" },
    { q: "‡≤¨‡≤æ‡≤π‡≥ç‡≤Ø‡≤æ‡≤ï‡≤æ‡≤∂‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤π‡≥ã‡≤¶ ‡≤Æ‡≥ä‡≤¶‡≤≤ ‡≤≠‡≤æ‡≤∞‡≤§‡≥Ä‡≤Ø ‡≤Ø‡≤æ‡≤∞‡≥Å?", options: ["‡≤ï‡≤≤‡≥ç‡≤™‡≤®‡≤æ ‡≤ö‡≤æ‡≤µ‡≥ç‡≤≤‡≤æ", "‡≤∞‡≤æ‡≤ï‡≥á‡≤∂‡≥ç ‡≤∂‡≤∞‡≥ç‡≤Æ", "‡≤∏‡≥Å‡≤®‡≤ø‡≤§‡≤æ ‡≤µ‡≤ø‡≤≤‡≤ø‡≤Ø‡≤Æ‡≥ç‡≤∏‡≥ç", "‡≤Ö‡≤¨‡≥ç‡≤¶‡≥Å‡≤≤‡≥ç ‡≤ï‡≤≤‡≤æ‡≤Ç"], a: "‡≤∞‡≤æ‡≤ï‡≥á‡≤∂‡≥ç ‡≤∂‡≤∞‡≥ç‡≤Æ" },
    { q: "‡≤ü‡≤æ‡≤ü‡≤æ ‡≤ï‡≤¨‡≥ç‡≤¨‡≤ø‡≤£ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤â‡≤ï‡≥ç‡≤ï‡≤ø‡≤® ‡≤ï‡≤æ‡≤∞‡≥ç‡≤ñ‡≤æ‡≤®‡≥Ü ‡≤é‡≤≤‡≥ç‡≤≤‡≤ø‡≤¶‡≥Ü?", options: ["‡≤≠‡≤¶‡≥ç‡≤∞‡≤æ‡≤µ‡≤§‡≤ø", "‡≤ú‡≤Æ‡≥ç ‡≤∂‡≥Ü‡≤°‡≥ç ‡≤™‡≥Å‡≤∞", "‡≤≠‡≤ø‡≤≤‡≤æ‡≤Ø‡≤ø", "‡≤¨‡≥ä‡≤ï‡≤æ‡≤∞‡≥ä"], a: "‡≤ú‡≤Æ‡≥ç ‡≤∂‡≥Ü‡≤°‡≥ç ‡≤™‡≥Å‡≤∞" },
    { q: "‡≤™‡≥ç‡≤∞‡≤™‡≤Ç‡≤ö‡≤¶ ‡≤Ö‡≤§‡≤ø ‡≤∏‡≤£‡≥ç‡≤£ ‡≤¶‡≥á‡≤∂ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤Æ‡≤æ‡≤≤‡≥ç‡≤°‡≥Ä‡≤µ‡≥ç‡≤∏‡≥ç", "‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ü‡≤ø‡≤ï‡≤®‡≥ç ‡≤∏‡≤ø‡≤ü‡≤ø", "‡≤∂‡≥ç‡≤∞‡≥Ä‡≤≤‡≤Ç‡≤ï‡≤æ", "‡≤®‡≥á‡≤™‡≤æ‡≤≥"], a: "‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ü‡≤ø‡≤ï‡≤®‡≥ç ‡≤∏‡≤ø‡≤ü‡≤ø" },
    { q: "‡≤∏‡≤Ç‡≤∏‡≤§‡≥ç‡≤§‡≤ø‡≤® ‡≤Æ‡≥á‡≤≤‡≥ç‡≤Æ‡≤®‡≥Ü ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Å?", options: ["‡≤≤‡≥ã‡≤ï‡≤∏‡≤≠‡≥Ü", "‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø‡≤∏‡≤≠‡≥Ü", "‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤∏‡≤≠‡≥Ü", "‡≤µ‡≤ø‡≤ß‡≤æ‡≤® ‡≤™‡≤∞‡≤ø‡≤∑‡≤§‡≥ç"], a: "‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø‡≤∏‡≤≠‡≥Ü" },
    { q: "‡≤¨‡≥Ü‡≤≥‡≤ï‡≤ø‡≤® ‡≤π‡≤¨‡≥ç‡≤¨ ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤æ‡≤∞‡≥Ü?", options: ["‡≤Ø‡≥Å‡≤ó‡≤æ‡≤¶‡≤ø", "‡≤∏‡≤Ç‡≤ï‡≥ç‡≤∞‡≤æ‡≤Ç‡≤§‡≤ø", "‡≤¶‡≥Ä‡≤™‡≤æ‡≤µ‡≤≥‡≤ø", "‡≤¶‡≤∏‡≤∞‡≤æ"], a: "‡≤¶‡≥Ä‡≤™‡≤æ‡≤µ‡≤≥‡≤ø" }
];


let quizSubmitted = false;
let quizTimerRef = null;

    // 4. MAIN FUNCTIONS
    async function updateStatus() {
        const doc = await db.collection("settings").doc("quizTime").get();
        const banner = document.getElementById('statusBanner');
        const startBtn = document.getElementById('startBtn');
        if(!doc.exists || !doc.data().start) {
            banner.className="status-upcoming"; banner.innerText = "‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï 22-01-2026 ‡≤∞‡≤Ç‡≤¶‡≥Å ‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤ú‡≥ç‡≤û‡≤æ‡≤®‡≤¶ ‡≤∞‡≤∏‡≤™‡≥ç‡≤∞‡≤∂‡≥ç‡≤®‡≥Ü ‡≤∏‡≥ç‡≤™‡≤∞‡≥ç‡≤ß‡≥Ü ‡≤®‡≤°‡≥Ü‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å.";
            startBtn.disabled = true; return;
        }
        const now = new Date(), start = new Date(doc.data().start), end = new Date(doc.data().end);
        if(now < start) { banner.className="status-upcoming"; banner.innerText = "Upcoming..."; startBtn.disabled = true; }
        else if(now <= end) { banner.className = "status-live"; banner.innerText = "‚óè LIVE: Quiz is Open!"; startBtn.disabled = !document.getElementById("sName").value;
 }
        else { banner.className = "status-closed"; banner.innerText = "Closed!"; startBtn.disabled = true; }
    }
    setInterval(updateStatus, 5000); updateStatus();

    
async function startQuiz() {

    // üîí CHECK SCHEDULE AGAIN (FINAL SECURITY)
    const schedDoc = await db.collection("settings").doc("quizTime").get();

    if (!schedDoc.exists) {
        alert("‚õî ‡≤ï‡≥ç‡≤µ‡≤ø‡≤ú‡≥ç ‡≤á‡≤®‡≥ç‡≤®‡≥Ç ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤µ‡≤æ‡≤ó‡≤ø‡≤≤‡≥ç‡≤≤....!");
        return;
    }

    const now = new Date();
    const start = new Date(schedDoc.data().start);
    const end = new Date(schedDoc.data().end);

    if (now < start || now > end) {
        alert("‚è∞ Quiz is CLOSED or NOT YET STARTED.");
        return;
    }

    // üîΩ EXISTING VALIDATIONS
    const name = document.getElementById('sName').value.trim();
    const pName = document.getElementById('pName').value.trim();
    const cls = document.getElementById('studentClass').value;
    const roll = document.getElementById('studentrollnumber').value.trim();

   if (!cls || roll.length !== 9) {
    alert("Select class and roll number");
    return;
}

if (!name) {
    alert("Student not verified");
    return;
}

    // ‚úÖ START QUIZ
    document.getElementById('questionsContainer').innerHTML = questions.map((item, i) => `
        <div class="card question-box">
            <b class="question-text">${i + 1}. ${item.q}</b>
            <div class="options-grid">
                ${item.options.map(opt => `
                    <label class="option-card">
                        <input type="radio" name="q${i}" value="${opt}"> ${opt}
                    </label>
                `).join('')}
            </div>
        </div>
    `).join('');

    document.getElementById('studentPage').classList.add('hidden');
    document.getElementById('quizPage').classList.remove('hidden');
    window.scrollTo(0, 0);

    let timer = 1500;
    quizTimerRef = setInterval(() => {
        timer--;
        document.getElementById('timer').innerText = timer;
        if (timer <= 0) {
            clearInterval(quizTimerRef);
            submitQuiz();
        }
    }, 1000);
}

    
    // 5. ADMIN UTILITIES
    async function loadLeaderboard() {
        const snap = await db.collection("mathResults").orderBy("score", "desc").get();
        let rank = 1;
        document.getElementById('leaderboardBody').innerHTML = snap.docs.map(doc => {
            const d = doc.data();
            return `<tr>
                <td>#${rank++}</td>
                <td>${d.name}</td>
                <td>${d.father}</td>
                <td>${d.class}</td>
                <td>${d.roll}</td>
                <td>${d.score}/50</td>
                <td>
                    <button onclick="generateCert('${d.name}', '${d.score}', '${d.class}')" style="background:orange; padding:4px; font-size:10px;">Cert</button>
                    <button onclick="deleteRecord('${doc.id}')" style="background:red; padding:4px; font-size:10px;">Del</button>
                </td>
            </tr>`;
        }).join('');
    }

    function filterTable() {
        let val = document.getElementById('adminSearch').value.toUpperCase();
        document.querySelectorAll("#leaderboardBody tr").forEach(tr => {
            tr.style.display = tr.innerText.toUpperCase().includes(val) ? "" : "none";
        });
    }

    function exportCSV() {
        let csv = "Rank,Name,Father,Class,Roll,Score\n";
        document.querySelectorAll("#leaderboardBody tr").forEach(tr => {
            const c = tr.querySelectorAll("td");
            csv += `"${c[0].innerText}","${c[1].innerText}","${c[2].innerText}","${c[3].innerText}","${c[4].innerText}","${c[5].innerText}"\n`;
        });
        const blob = new Blob([csv], { type: 'text/csv' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'Quiz_Results.csv';
        a.click();
    }

    function generateCert(name, score, cls) {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF({ orientation: "landscape" });
        doc.rect(10, 10, 277, 190);
        doc.setFontSize(30); doc.text("‡≤∏‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø ‡≤π‡≤ø‡≤∞‡≤ø‡≤Ø ‡≤™‡≥ç‡≤∞‡≤æ‡≤•‡≤Æ‡≤ø‡≤ï ‡≤∂‡≤æ‡≤≤‡≥Ü, ‡≤¶‡≤æ‡≤∏‡≤∞‡≤µ‡≤æ‡≤°‡≤ø ‡≤§‡≤æ; ‡≤¨‡≤∏‡≤µ‡≤ï‡≤≤‡≥ç‡≤Ø‡≤æ‡≤£ ‡≤ú‡≤ø : ‡≤¨‡≥Ä‡≤¶‡≤∞", 148, 40, {align:"center"});
        doc.setFontSize(20); doc.text("CERTIFICATE OF GK QUIZ MERIT", 148, 60, {align:"center"});
        doc.setFontSize(16); doc.text(`This is to certify that ${name} of Class ${cls}`, 148, 100, {align:"center"});
        doc.text(`scored ${score} out of 50 in General Knowledge Quiz 2026`, 148, 120, {align:"center"});
        doc.save(`${name}_Cert.pdf`);
    }
    
 
    
    

    async function deleteRecord(id) {
        if(confirm("Delete this student record?")) {
            await db.collection("mathResults").doc(id).delete();
            loadLeaderboard();
        }
    }

    async function saveSchedule() {
        const start = document.getElementById('schedStart').value;
        const end = document.getElementById('schedEnd').value;
        if(!start || !end) return alert("Set both times!");
        await db.collection("settings").doc("quizTime").set({ start, end });
        alert("Schedule Saved!"); updateStatus();
    }

    async function resetSchedule() {
        if(confirm("Reset schedule? This will lock the quiz for students.")) {
            await db.collection("settings").doc("quizTime").delete();
            document.getElementById('schedStart').value = "";
            document.getElementById('schedEnd').value = "";
            alert("Schedule Reset!"); updateStatus();
        }
    }

    async function clearAllData() {
        if(confirm("WARNING: Delete ALL results?")) {
            const snap = await db.collection("mathResults").get();
            const batch = db.batch();
            snap.docs.forEach(doc => batch.delete(doc.ref));
            await batch.commit();
            alert("All results wiped!"); loadLeaderboard();
        }
    }

    
    async function loadScheduleInputs() {
        const doc = await db.collection("settings").doc("quizTime").get();
        if(doc.exists) {
            document.getElementById('schedStart').value = doc.data().start;
            document.getElementById('schedEnd').value = doc.data().end;
        }
    }

    async function downloadWholeResultsPDF() {
        const { jsPDF } = window.jspdf; const doc = new jsPDF();
        const snap = await db.collection("mathResults").orderBy("score", "desc").get();
        const rows = snap.docs.map((d, i) => [i+1, d.data().name, d.data().father, d.data().class, d.data().roll, d.data().score + "/50"]);
        doc.text("Govt. Higher Primary School Dasarawadi, Maths Quiz Results 2025", 14, 15);
        doc.autoTable({ head: [['Rank', 'Name','Father', 'Class', 'Roll', 'Score']], body: rows, startY: 20 });
        doc.save("Quiz Results.pdf");
    }
    async function submitQuiz() {

    if (quizSubmitted) return; // prevent double submit
    quizSubmitted = true;

    clearInterval(quizTimerRef);

    const name = document.getElementById('sName').value.trim();
    const father = document.getElementById('pName').value.trim();
    const cls = document.getElementById('studentClass').value;
    const roll = document.getElementById('studentrollnumber').value.trim();

    let score = 0;

    questions.forEach((q, i) => {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (selected && selected.value === q.a) {
            score++;
        }
    });

    // üîí Save result to Firebase
    const resultId = `${cls}_${roll}`;
await db.collection("mathResults").doc(resultId).set({
        name: name,
        father: father,
        class: cls,
        roll: roll,
        score: score,
        submittedAt: firebase.firestore.FieldValue.serverTimestamp()
    });

    // ‚úÖ SHOW THANK YOU PAGE
    document.getElementById('quizPage').classList.add('hidden');
    document.getElementById('thankYouPage').classList.remove('hidden');
    document.getElementById('finalName').innerText =
        `Student: ${name}`;
}
async function uploadStudentsExcel() {

    const fileInput = document.getElementById("excelFile");
    const status = document.getElementById("uploadStatus");

    if (!fileInput.files.length) {
        alert("Please select Excel file");
        return;
    }

    status.innerText = "‚è≥ Reading Excel file...";

    const reader = new FileReader();
    reader.onload = async function (e) {

        const data = new Uint8Array(e.target.result);
        const workbook = XLSX.read(data, { type: "array" });
        const sheet = workbook.Sheets[workbook.SheetNames[0]];

        const rows = XLSX.utils.sheet_to_json(sheet);

        if (!rows.length) {
            status.innerText = "‚ùå Excel file is empty";
            return;
        }

        let uploaded = 0;
        let skipped = 0;

       for (let row of rows) {

    const cls = String(row.class || "").trim();
    const roll = String(row.roll || "").trim();
    const name = String(row.name || "").trim().toUpperCase();
    const father = String(row.father || "").trim().toUpperCase();

    if (!cls || roll.length !== 9 || !name || !father) {
        skipped++;
        continue;
    }

    const docId = `${cls}_${roll}`;
    const docRef = db.collection("students").doc(docId);
    const docSnap = await docRef.get();

    if (docSnap.exists) {
        skipped++;
        continue;
    }

    await docRef.set({
        class: cls,
        roll: roll,
        name: name,
        father: father
    });

    uploaded++;
}


        status.innerText =
            `‚úÖ Upload Complete | Added: ${uploaded} | Skipped: ${skipped}`;
    };

    reader.readAsArrayBuffer(fileInput.files[0]);
}

async function fetchStudentFromMaster() {
    const cls = document.getElementById("studentClass").value;
    const roll = document.getElementById("studentrollnumber").value.trim();
    const nameInput = document.getElementById("sName");
    const fatherInput = document.getElementById("pName");
    const startBtn = document.getElementById("startBtn");

    // Reset fields if roll number is not 9 digits
    if (roll.length !== 9) {
        nameInput.value = "";
        fatherInput.value = "";
        startBtn.disabled = true;
        return;
    }

    nameInput.value = "Verifying...";

    try {
        // 1. Check if student exists in Master List
        const docId = `${cls}_${roll}`;
        const studentDoc = await db.collection("students").doc(docId).get();

        if (studentDoc.exists) {
            const data = studentDoc.data();
            
            // 2. Check if student has ALREADY submitted the quiz
            const resultDoc = await db.collection("mathResults").doc(docId).get();
            
            if (resultDoc.exists) {
                nameInput.value = "ALREADY SUBMITTED";
                fatherInput.value = "Access Denied";
                startBtn.disabled = true;
                alert("You have already completed this quiz. Only one attempt is allowed.");
            } else {
                // Student found and hasn't played yet
                nameInput.value = data.name;
                fatherInput.value = data.father;
                startBtn.disabled = false;
            }
        } else {
            nameInput.value = "NOT FOUND";
            fatherInput.value = "Check STS No. or Class";
            startBtn.disabled = true;
        }
    } catch (error) {
        console.error("Error fetching student:", error);
        nameInput.value = "Error loading data";
    }
}

function handleClassChange() {
    const rollInput = document.getElementById("studentrollnumber");
    const cls = document.getElementById("studentClass").value;
    
    if (cls) {
        rollInput.disabled = false;
        rollInput.value = ""; // Clear previous roll to force re-verification
        document.getElementById("sName").value = "";
        document.getElementById("pName").value = "";
    } else {
        rollInput.disabled = true;
    }
}



</script>
</body>
</html>
